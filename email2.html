<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title> Validacão de E-mail com JavaScript</title>
    <script language="Javascript">
    function validacaoEmail(field) {
        const usuario = field.value.substring(0, field.value.indexOf("@"));
        const dominio = field.value.substring(field.value.indexOf("@")+ 1, field.value.length);
        const usuarioValido = (
            usuario.length >= 1 &&
          usuario.search("@") == -1 &&
          usuario.search(" ") ==- 1)
        const dominioValido = (
            dominio.length >= 3 &&
          dominio.search("@") ==- 1 &&
          dominio.search(" ") == -1 &&
          dominio.search(".") !=- 1 &&
          dominio.indexOf(".") >= 1 &&
          dominio.lastIndexOf(".") < dominio.length - 1)
        const dominioConhecido = (
            dominio.search("gmail") != -1 ||
          dominio.search("hotmail") !=- 1 ||
          dominio.search("outlook") !=- 1
        )
        
        if (usuarioValido && dominioValido && dominioConhecido) {
            document.getElementById("msgemail").innerHTML="<font color= 'green'>E-mail válido";
          alert("E-mail valído");
        } else {
            document.getElementById("msgemail").innerHTML="<font color='red'>Email inválido </font>";
          alert("E-mail invalido");
        }
      }
      </script>
  </head>
  <body>
    <form name="f1">
      <h3> Validação de E-mail com JavaScript</h3>
      <hr color='gray'>
      <table>
        <tr>
          <td>
            E-mail:
            <input type="text" name="email" onblur="validacaoEmail(f1.email)"  maxlength="60" size='65'>
          </td>
          <td>
            <div id="msgemail"></div>
          </td>
        </tr>
      </table>
      <hr color='gray'>
    </form>
  </body>
</html>